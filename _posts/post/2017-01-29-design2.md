---
layout: post
title:  "设计模式（二）"
date:   2017-01-28
excerpt: "设计原则：代理模式，原型模式，中介者模式，命令模式"
tag:
- 设计原则
comments: true
---
> 今天是设计模式连载的第二篇，记录了代理模式，原型模式，中介者模式，命令模式。同样每个设计模式的详解都包括的我的理解以及我的分析推导过程。

# 代理模式
理解：该设计模式主要是对实际对象调用的扩展，实际对象仅需关注主体业务即可，其他的扩展比如访问限制，预处理之类的可在代理类中完成

分析/推导：

* 扩展实际对象的功能，实际对象关注业务，其他的扩展则放在代理类中完成，算是比较典型的对修改封闭，对扩展开放。

动态代理：

* 动态代理是典型代理模式的一种变化，典型代理模式必须在定义时即确定好是对哪个接口进行代理，并且只能代理一组确定的接口。
* 动态代理则理论上可以对任何接口进行代理，而具体方法的调用则是通过调用具体确定的```java.lang.reflect.InvocationHandler#invoke```方法来完成的。

# 原型模式
理解：该设计模式比较简单，指的是对原对象进行克隆，保持原对象类型，对其属性进行复制。

分析/推导：

* 在java中，你仅需要实现该接口```java.lang.Cloneable```，标记一个类为可克隆，然后覆盖```java.lang.Object#clone```方法即可。
* 使用克隆实际上是对内存二进制流的拷贝，并且并不会执行类的构造函数。
* 优点：直接拷贝二进制流，在需要构建大量对象时相比```new```来说又很大的性能提升
* 缺点：不会调用```new```构造函数，肯能会绕过一些初始化的流程。

# 中介者模式
理解：

# 命令模式