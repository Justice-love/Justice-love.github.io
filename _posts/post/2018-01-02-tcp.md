---
layout: post
title:  "TCP协议简介"
date:   2018-01-02
excerpt: "简述TCP协议相关报文和状态"
tag:
- tcp
comments: true
---
![tcp状态转换图]({{ site.staticUrl }}/image/jpg/tcp)

## 三次握手

#### 协议相关

1. 客户端向服务端发送```[SYN]```报文，申请链接。
2. 服务端回复```[SYN,ACK]```报文，确认收到申请。
3. 客户端回复```[ACK]```报文，确认收到服务端响应，链接建立成功。

#### 状态相关

1. 客户端发送了```[SYN]```报文后状态为：SYN_SEND
2. 服务端收到了链接请求后状态为：SYN_RCVD

## 数据传输

#### 协议相关

数据传输为一次```[PSH]```数据推送和一次```[ACK]```对方应答。

#### 状态相关

客户端与服务端状态均为ESTABLISHED，表示链接已正常建立。

## 四次挥手