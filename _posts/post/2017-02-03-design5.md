---
layout: post
title:  "设计模式（五）"
date:   2017-02-03
excerpt: "设计原则：门面模式，备忘录模式，访问者模式，状态模式"
tag:
- 设计模式
- 门面模式
- 备忘录模式
- 访问者模式
- 状态模式
comments: true
---
> 今天是设计模式连载的第五篇，记录了门面模式，备忘录模式，访问者模式，状态模式。

# 门面模式
理解：该设计模式主要是统一对外访问接口（facade），使得内部的逻辑隔离，独立在一个子模块内

分析／推导：

* 优点，对外部来说内部系统的实现逻辑是完全透明的，facade统一维护了内部接口的调用顺序，上层模块无需关注，减少了耦合。
* 缺点，facade不符合开闭原则，需求的变更均需要更改facade层。

# 备忘录模式
理解：

* 该设计模式是增加一个原始对象状态的备忘录和备忘录管理者，备忘录负责存储原始对象的快照，而备忘录管理者则用来对快照进行管理，可以生成，覆盖，丢弃等。
* 我认为这更像是一个业务需求。

# 访问者模式
理解：该设计模式是用来对容器内的元素进行分组访问，定义一个访问者，访问者为每个组别分别定义一个接收统计的方法（接收方法是重载的，方法名相同，参数为元素类型的实现类），然后每个元素定义一个accept方法，用来将元素自身传递到访问者的不用分组方法。

分析／推导：

* 其实个人觉得如果使用java8中提供的Stream的group功能，完全可以更加简便。

# 状态模式
理解：

* 今天想着重讲一下的设计模式。
* 定义一个上下文对象（context），上下文维护一个当前状态（state）。
* 上下文是具有状态的，状态不同行为不用。
* 调用上下文的接口，实际根据当前状态调用对应的接口。

分析/推导：

* 